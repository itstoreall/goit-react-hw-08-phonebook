(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={label:"Contacts_label__1FN1x",input:"Contacts_input__15bVW",contactList:"Contacts_contactList__1bH7v",contactItem:"Contacts_contactItem__3MiV1",button:"Contacts_button__ufCm9"}},13:function(t,e,n){t.exports={wrapper:"App_wrapper__RCHjb",title:"App_title__2oBiX",subtitle:"App_subtitle__3q6oi",loading:"App_loading__3Rsj5"}},22:function(t,e,n){t.exports={label:"Filter_label__2pNgv",input:"Filter_input__YmgBH"}},35:function(t){t.exports=JSON.parse('{"contacts":[{"name":"Vasya","number":"1234124","id":1},{"name":"Perya","number":"342452345","id":2},{"name":"Kolya","number":"7986785","id":3}]}')},69:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"getContactsRequest",(function(){return d})),n.d(c,"getContactsSuccess",(function(){return f})),n.d(c,"getContactsError",(function(){return j})),n.d(c,"addContactRequest",(function(){return p})),n.d(c,"addContactSuccess",(function(){return m})),n.d(c,"addContactError",(function(){return C})),n.d(c,"deleteContactRequest",(function(){return O})),n.d(c,"deleteContactSuccess",(function(){return g})),n.d(c,"deleteContactError",(function(){return h})),n.d(c,"contactFilter",(function(){return _}));var a={};n.r(a),n.d(a,"GET",(function(){return q})),n.d(a,"ADD",(function(){return L})),n.d(a,"DELETE",(function(){return R}));var r={};n.r(r),n.d(r,"getLoading",(function(){return y})),n.d(r,"getFilter",(function(){return D})),n.d(r,"getAllContacts",(function(){return A})),n.d(r,"getFilteredContects",(function(){return I}));var o=n(0),u=n.n(o),s=n(14),i=n.n(s),l=n(6),b=n(2),d=Object(b.b)("contacts/getContactsRequest"),f=Object(b.b)("contacts/getContactsSuccess"),j=Object(b.b)("contacts/getContactsError"),p=Object(b.b)("contacts/addContactRequest"),m=Object(b.b)("contacts/addContactSuccess"),C=Object(b.b)("contacts/addContactError"),O=Object(b.b)("contacts/deleteContactRequest"),g=Object(b.b)("contacts/deleteContactSuccess"),h=Object(b.b)("contacts/deleteContactError"),_=Object(b.b)("contact/filter"),v=n(7),x=n.n(v),E=n(18),S=n(12),N=n.n(S);N.a.defaults.baseURL="http://localhost:2222";var w,F,q=function(){return function(){var t=Object(E.a)(x.a.mark((function t(e){var n,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(c.getContactsRequest()),t.prev=1,t.next=4,N.a.get("/contacts");case 4:n=t.sent,a=n.data,e(c.getContactsSuccess(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(c.getContactsError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},L=function(t){return function(){var e=Object(E.a)(x.a.mark((function e(n){var a,r,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:t.name,number:t.number},n(c.addContactRequest()),e.prev=2,e.next=5,N.a.post("/contacts",a);case 5:r=e.sent,o=r.data,n(c.addContactSuccess(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n(c.addContactError(e.t0));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},R=function(t){return function(){var e=Object(E.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(c.deleteContactRequest()),e.prev=1,e.next=4,N.a.delete("/contacts/".concat(t));case 4:n(c.deleteContactSuccess(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(c.deleteContactError(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},k=n(15),y=function(t){return t.contacts.loading},D=function(t){return t.contacts.filter},A=function(t){return t.contacts.items},I=Object(k.a)([A,D],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),T=n(4),B=n(17),G=n(35),H=n(3),J=Object(b.c)(G.contacts,(w={},Object(T.a)(w,c.getContactsSuccess,(function(t,e){return e.payload})),Object(T.a)(w,c.addContactSuccess,(function(t,e){return[e.payload].concat(Object(B.a)(t))})),Object(T.a)(w,c.deleteContactSuccess,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),w)),P=Object(b.c)(!1,(F={},Object(T.a)(F,c.getContactsRequest,(function(){return!0})),Object(T.a)(F,c.getContactsSuccess,(function(){return!1})),Object(T.a)(F,c.getContactsError,(function(){return!1})),Object(T.a)(F,c.addContactRequest,(function(){return!0})),Object(T.a)(F,c.addContactSuccess,(function(){return!1})),Object(T.a)(F,c.addContactError,(function(){return!1})),Object(T.a)(F,c.deleteContactRequest,(function(){return!0})),Object(T.a)(F,c.deleteContactSuccess,(function(){return!1})),Object(T.a)(F,c.deleteContactError,(function(){return!1})),F)),V=Object(b.c)("",Object(T.a)({},c.contactFilter,(function(t,e){return e.payload}))),M=Object(H.c)({items:J,filter:V,loading:P}),W=n(23),z=n(8),K=n(1),U=Object(l.b)((function(t){return{state:t}}),null)((function(t){var e=t.state,n=t.onSubmit,c=Object(o.useState)(""),a=Object(W.a)(c,2),r=a[0],u=a[1],s=Object(o.useState)(""),i=Object(W.a)(s,2),l=i[0],b=i[1],d=function(t){var e=t.target,n=e.name,c=e.value;"name"===n?u(c):b(c)};return Object(K.jsxs)("form",{className:z.form,children:[Object(K.jsxs)("label",{className:z.label,children:["Name",Object(K.jsx)("input",{className:z.input,name:"name",value:r,onChange:d})]}),Object(K.jsxs)("label",{className:z.label,children:["Number",Object(K.jsx)("input",{className:z.input,name:"number",value:l,onChange:d})]}),Object(K.jsx)("button",{className:z.button,tupe:"submit",onClick:function(t){t.preventDefault(),e.contacts.items.find((function(t){return t.name.toLowerCase()===r.toLowerCase()}))?alert("".concat(r," is already in contacts.")):n({name:r,number:l}),u(""),b("")},children:"Add contact"})]})})),X=n(11),Y=function(t){var e=t.contact,n=e.id,c=e.name,a=e.number,r=t.onDeleteContact;return Object(K.jsxs)("li",{className:X.contactItem,children:[Object(K.jsxs)("span",{children:[c,": ",a]}),Object(K.jsx)("button",{className:X.button,onClick:function(){return r(n)},children:"Delete"})]})},Z=function(t){var e=t.contacts,n=t.onDeleteContact;return Object(K.jsx)("ul",{className:X.contactList,children:e.map((function(t){return Object(K.jsx)(Y,{contact:t,onDeleteContact:n},t.id)}))})},Q=Object(l.b)((function(t){return{contacts:r.getFilteredContects(t)}}),(function(t){return{onDeleteContact:function(e){return t(a.DELETE(e))}}}))(Z),$=n(22),tt=Object(l.b)((function(t){return{value:r.getFilter(t)}}),(function(t){return{onChange:function(e){return t(c.contactFilter(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(K.jsxs)("label",{className:$.label,children:["Find contacts by name",Object(K.jsx)("input",{className:$.input,value:e,onChange:n})]})})),et=n(13);var nt=Object(l.b)((function(t){return{isLoading:r.getLoading(t)}}),(function(t){return{getContacts:function(){return t(a.GET())},handleSubmit:function(e){return t(a.ADD(e))}}}))((function(t){var e=t.handleSubmit,n=t.handleInputFilter,c=t.isLoading;return Object(o.useEffect)((function(){a.GET()})),Object(K.jsxs)("div",{className:et.wrapper,children:[Object(K.jsx)("h1",{className:et.title,children:"Phonebook"}),Object(K.jsx)(U,{onInputChange:n,onSubmit:e}),Object(K.jsxs)("h2",{className:et.subtitle,children:["Contacts ",c&&Object(K.jsx)("span",{className:et.loading,children:"Loading..."})]}),Object(K.jsx)(tt,{}),Object(K.jsx)(Q,{})]})})),ct=n(36),at=n.n(ct),rt=n(9),ot=[].concat(Object(B.a)(Object(b.d)({serializableCheck:{ignoredActions:[rt.a,rt.f,rt.b,rt.c,rt.d,rt.e]}})),[at.a]),ut=Object(b.a)({reducer:{contacts:M},middleware:ot,devTools:!1});n(68);i.a.render(Object(K.jsx)(u.a.StrictMode,{children:Object(K.jsx)(l.a,{store:ut,children:Object(K.jsx)(nt,{})})}),document.getElementById("root"))},8:function(t,e,n){t.exports={form:"Form_form__3-unr",label:"Form_label__2aPb1",input:"Form_input__2gucq",button:"Form_button__3ZW4q"}}},[[69,1,2]]]);
//# sourceMappingURL=main.4530613a.chunk.js.map